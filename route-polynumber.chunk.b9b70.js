(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kLqH:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t);var d=n("hosL"),u=n("Hrl7"),l=n("QRet"),f=["getContext","init","ready","draw","onResize","framesPerSecond"],v={alpha:!1,depth:!1,preserveDrawingBuffer:!0},w=function(e){var t=e.getContext,n=e.init,o=e.ready,i=e.draw,c=e.onResize,s=e.framesPerSecond,u=a(e,f),w=Object(d.f)(),h=s?1e3/s:void 0;return Object(l.d)((function(){var e,r=w.current,a=!1,s=-1,d=t?t(r):r.getContext("webgl2",v);if(!d)return alert("Error getting context. WebGL2 is required."),void("undefined"!=typeof window&&(window.location.href="https://get.webgl.org/webgl2/"));var u=function(){d.canvas.width=window.innerWidth,d.canvas.height=window.innerHeight,c&&c(d)};window.addEventListener("resize",u),u();var l=function(){a=!0};window.addEventListener("blur",l);var f=function(){a=!1};window.addEventListener("focus",f);var g=function(){document.fullscreenElement||document.body.requestFullscreen().catch((function(e){console.error("Fullscreen fail:",e)}))};window.addEventListener("click",g),n&&n(d);var m=function t(){a?setTimeout(t,128):(s++,e=h?window.setTimeout(t,h):window.requestAnimationFrame(t),i(d,s))},b=function(){setTimeout(m,0)};return void 0===o?b():o(b),function(){h?window.clearTimeout(e):window.cancelAnimationFrame(e),window.removeEventListener("resize",u),window.removeEventListener("blur",l),window.removeEventListener("focus",f),window.removeEventListener("click",g)}}),[t,n,o,i,c,w,h]),Object(d.g)("canvas",r({ref:w},u))},h=n("z36D"),g="canvas_frame__jQZRh",m=n("oyW1"),b=n("wXA0"),p=n("Q46o"),O=n.n(p),y=["getContext","init","ready","draw","onResize","animate","framesPerSecond"],E=function(e){var t=e.getContext,n=e.init,r=e.ready,a=e.draw,c=e.onResize,s=e.animate,u=e.framesPerSecond,f=i(e,y),v=Object(d.f)(),w=u?1e3/u:void 0;return Object(l.d)((function(){var o,i=v.current,d=!1,u=-1,l=t?t(i):i.getContext("2d"),f=function(){l.canvas.width=window.innerWidth,l.canvas.height=window.innerHeight,c&&c(l)};window.addEventListener("resize",f),f();var h=function(){d=!0};window.addEventListener("blur",h);var g=function(){d=!1};window.addEventListener("focus",g);var m=function(){document.fullscreenElement||document.body.requestFullscreen().catch((function(e){console.error("Fullscreen fail:",e)}))};window.addEventListener("click",m),n&&n(l);var b=function(){a(l,u++)},p=function e(){d?setTimeout(e,128):(u++,o=w?window.setTimeout(e,w):window.requestAnimationFrame(e),a(l,u))};e.canvasMethodRefs&&(e.canvasMethodRefs.render=b);var O=function(){!1===s?setTimeout(b):setTimeout(p)};return void 0===r?O():r(O),function(){w?window.clearTimeout(o):window.cancelAnimationFrame(o),window.removeEventListener("resize",f),window.removeEventListener("blur",h),window.removeEventListener("focus",g),window.removeEventListener("click",m)}}),[t,n,r,a,c,v,e.canvasMethodRefs,s,w]),Object(d.g)("canvas",o({ref:v},f))},L="grid_overlay__w4LWV",j=["setTranslate","setScale"],S=Math.pow(10,1/13),_=Math.pow(S,1/32),M=!0,x=function(e,t){if(0===e)return"0";if(t<5){if(t>=0)return"".concat(e).concat("0".repeat(t)).replace(/\B(?=(\d{3})+(?!\d))/g,",");if(t>-5)return(e*Math.pow(10,t)).toFixed(-t)}return"".concat(e,"×⏨").concat(t)},A=function(e){var t=e.setTranslate,n=e.setScale,r=s(e,j),a={render:function(){console.log("canvasMethodRefs.render()")}},o=[0,0],i=[0,0],u=[1,1],f=[0,0],v=[-2,10],w=[-4,-4],h=0,g=function(){a&&"render"in a&&a.render()},m=function(e){e.clearRect(0,0,e.canvas.width,e.canvas.height),f[0]*=.9,f[1]*=.9,M&&(i[0]+=f[0],i[1]-=f[1]);var n=Math.ceil(Math.log10(24*u[0])),r=Math.ceil(Math.log10(24*u[1])),a=Math.pow(10,n),o=Math.pow(10,r),c=a/u[0],s=o/u[1],d=Math.ceil(i[0]*u[0]/a),l=Math.ceil(i[1]*u[1]/o),h=d*a/u[0]-i[0],g=i[1]-l*o/u[1],m=Math.floor(e.canvas.width/c),b=Math.floor(e.canvas.height/s),p=Math.floor(m/2),O=Math.floor(b/2);e.beginPath();for(var y=0;y<=m;y++){var E=h+y*c;if(e.moveTo(E,0),e.lineTo(E,e.canvas.height),y===p)for(var L=0;L<=b;L++){var j=x(L+l,r);e.fillText(j,E+w[0],g+e.canvas.height-L*s+w[1])}}for(var S=0;S<=b;S++){var _=g+e.canvas.height-S*s;if(e.moveTo(0,_),e.lineTo(e.canvas.width,_),S===O)for(var A=0;A<=m;A++){var R=x(A+d,n),P=h+A*c;e.save(),e.translate(P+v[0],_+v[1]),e.rotate(-Math.PI/6),e.fillText(R,0,0),e.restore()}}e.stroke(),t&&t(i[0],i[1])};return Object(l.d)((function(){var e=0,r=[0,0],a=[-1,-1],o=[-1,-1],c=function(t){return e|=1<<t.button,r[0]=t.clientX,r[1]=t.clientY,f[0]=f[1]=0,M=!(1&e),t.preventDefault(),!1};window.addEventListener("mousedown",c);var s=function(t){return e^=1<<t.button,t.preventDefault(),M=!(1&e),!1};window.addEventListener("mouseup",s);var d=function(e){return e.preventDefault(),!1};window.addEventListener("contextmenu",d);var l=function(a){var o=r[0]-a.clientX,c=r[1]-a.clientY;if(1&e&&(f[0]=4*o,f[1]=4*c,i[0]+=o,i[1]-=c,t&&(t(i[0],i[1]),g())),2&e){var s=Math.pow(_,-c);u[0]*=s,u[1]*=s,n&&(n(u[0],u[1]),g())}if(4&e){var d=[(r[0]+i[0])*u[0],(h-r[1]+i[1])*u[1]],l=[d[0]/u[0]-i[0],d[1]/u[1]-i[1]];u[0]*=Math.pow(_,o),u[1]*=Math.pow(_,-c),n&&n(u[0],u[1]);var v=[d[0]/u[0]-i[0],d[1]/u[1]-i[1]];i[0]-=l[0]-v[0]-o,i[1]+=v[1]-l[1]-c,t&&t(i[0],i[1]),g()}r[0]=a.clientX,r[1]=a.clientY};window.addEventListener("mousemove",l);var v=function(e){return a[0]=e.touches[0].pageX,a[1]=e.touches[0].pageY,f[0]=f[1]=0,M=!1,!1};window.addEventListener("touchstart",v);var w=function(){return a[0]=a[1]=-1,M=!0,!1};window.addEventListener("touchend",w);var m=function(e){if(a[0]>-1)if(1===e.touches.length){var r=a[0]-e.touches[0].pageX,c=a[1]-e.touches[0].pageY;f[0]=r,f[1]=c,i[0]+=r,i[1]-=c,o[0]=o[1]=-1,t&&(t(i[0],i[1]),g())}else{if(o[0]>-1){var s=e.touches[0].pageX,d=e.touches[0].pageY,l=e.touches[1].pageX,v=e.touches[1].pageY,w=(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2))/(Math.pow(s-l,2)+Math.pow(d-v,2)),m=[(s+l)/2,(d+v)/2],b=[(m[0]+i[0])*u[0],(h-m[1]+i[1])*u[1]],p=[b[0]/u[0]-i[0],b[1]/u[1]-i[1]];u[0]*=w,u[1]*=w,n&&n(u[0],u[1]);var O=[b[0]/u[0]-i[0],b[1]/u[1]-i[1]];i[0]-=p[0]-O[0],i[1]+=O[1]-p[1],t&&t(i[0],i[1]),g()}o[0]=e.touches[1].pageX,o[1]=e.touches[1].pageY}a[0]=e.touches[0].pageX,a[1]=e.touches[0].pageY};window.addEventListener("touchmove",m);window.addEventListener("wheel",(function(e){var a=e.deltaY>0?S:1/S,o=[(r[0]+i[0])*u[0],(h-r[1]+i[1])*u[1]],c=[o[0]/u[0]-i[0],o[1]/u[1]-i[1]];u[0]*=a,u[1]*=a,n&&n(u[0],u[1]);var s=[o[0]/u[0]-i[0],o[1]/u[1]-i[1]];i[0]-=c[0]-s[0],i[1]+=s[1]-c[1],t&&t(i[0],i[1]),g()}));var b=function(e){switch(e.code){case"KeyW":case"ArrowUp":case"Numpad8":i[1]-=16*S;break;case"KeyS":case"ArrowDown":case"Numpad2":i[1]+=16*S;break;case"KeyA":case"ArrowLeft":case"Numpad4":i[0]+=16*S;break;case"KeyD":case"ArrowRight":case"Numpad6":i[0]-=16*S;break;case"NumpadSubtract":case"Minus":u[0]*=S,u[1]*=S,n&&(n(u[0],u[1]),g());break;case"NumpadAdd":case"Equal":u[0]/=S,u[1]/=S,n&&(n(u[0],u[1]),g())}};return window.addEventListener("keydown",b),function(){window.cancelAnimationFrame(undefined),window.removeEventListener("mousedown",c),window.removeEventListener("mouseup",s),window.removeEventListener("contextmenu",d),window.removeEventListener("mousemove",l),window.removeEventListener("touchstart",v),window.removeEventListener("touchend",w),window.removeEventListener("touchmove",m),window.removeEventListener("keypress",b)}}),[]),Object(d.g)("div",c({class:L},r),Object(d.g)(E,{canvasMethodRefs:a,init:function(e){var t,a=null!==(t=r.initialScale)&&void 0!==t?t:16/e.canvas.width;u[0]=u[1]=a,n&&n(u[0],u[1]),m(e)},onResize:function(e){e.strokeStyle="#999",e.lineWidth=1,e.fillStyle="#fff",e.textAlign="right",e.font="".concat(12,"px monospace"),h=e.canvas.height;var t=e.canvas.width/2,n=e.canvas.height/2;if(0===o[0])o[0]=t,o[1]=n,i[0]=-o[0],i[1]=-o[1];else{var r=n-o[1];i[0]-=t-o[0],i[1]-=r,o[0]=t,o[1]=n}m(e)},draw:m,animate:!0}))},R=function(e,t,n){var r=e.createShader(t);if(!r)throw"Missing shader";if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw e.getShaderInfoLog(r);return r};t.default=function(e){var t=e.path;if(!(t in m.a))return Object(d.g)(h.a,{default:!0});var n,r,a,o,i=m.a[t],c=Object(d.f)(),s=[0,0],l=[1,1],f=function(e,t){s[0]=e,s[1]=t},v=new O.a(i.coefficents);return Object(d.g)("section",{ref:c,class:g},Object(d.g)(u.a,null,Object(d.g)("title",null,i.title)),Object(d.g)("div",{class:"d-none"},Object(d.g)(b.a,{path:i.path})),Object(d.g)("div",{class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",id:"shaders","aria-labelledby":"shadersLabel"},Object(d.g)("div",{class:"offcanvas-header"},Object(d.g)("h5",{class:"offcanvas-title",id:"shadersLabel"},"Shaders"),Object(d.g)("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"parameterPanel","aria-label":"Close"})),Object(d.g)("div",{class:"offcanvas-body"},Object(d.g)("form",null,Object(d.g)("div",{class:"mb-3"},Object(d.g)("label",{for:"vertexShader"},"Vertex Shader"),Object(d.g)("textarea",{class:"form-control",id:"vertexShader",rows:6},"#version 300 es\nin vec2 a_position;\nin vec4 a_color;\nout vec4 v_color;\n\nvoid main(void) {\n  gl_Position = vec4(a_position, 0.0, 1.0);\n  v_color = a_color;\n}\n")),Object(d.g)("div",{class:"mb-3"},Object(d.g)("label",{for:"fragmentShader"},"Fragment Shader"),Object(d.g)("textarea",{class:"form-control",id:"fragmentShader",rows:20},'#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#define TAU 6.2831853071795865\n\nuniform float u_time;\nuniform vec2 u_translate;\nuniform vec2 u_scale;\nout vec4 fragmentColor;\n\nvoid main() {\n  float x = ( gl_FragCoord.x + u_translate.x ) * u_scale.x;\n  float y = ( gl_FragCoord.y + u_translate.y ) * u_scale.y;\n\n  // the curve is where this evaluates to 0, otherwise this is the "distance" to it\n  float z = POLYNUMBER_FORMULA;\n\n  // draw the curve as full green, tapering out to zero at a distance of 1\n  float d = 1.0 - abs(z);\n  fragmentColor.g = d < 0.0 ? 0.0 : pow(d, 16.0);\n\n  // draw the fractional part of z as blue, the integer values can be seen as black-blue barriers\n  fragmentColor.b = mod(z + u_time / 67.0, 1.0);\n\n  // draw a sin wave through zed in red\n  fragmentColor.r = sin(z * TAU - u_time / 11.0);\n}\n'.replace("POLYNUMBER_FORMULA",v.toGLSLFormula())))))),Object(d.g)("div",{style:"position: absolute; top: 16px; right: 16px; z-index: 666;"},Object(d.g)("ul",{style:"list-style: none; padding: 0;"},Object(d.g)("li",null,Object(d.g)("a",{href:"/edit/#{polynumber.coefficents}"},"Editor")),Object(d.g)("li",null,i.coefficents.length))),Object(d.g)("div",null,Object(d.g)(A,{setTranslate:f,setScale:function(e,t){l[0]=e,l[1]=t,f(0,0)}})),Object(d.g)(w,{init:function(e){var t,i,c,d,u;s[0]=-e.canvas.width/2,s[1]=-e.canvas.height/2,n=function(e){var t,n,r=e.createProgram();if(!r)throw"Missing program";var a=null===(t=document.getElementById("fragmentShader"))||void 0===t?void 0:t.textContent;if(!a)throw"Missing fragmentShaderSource";var o=R(e,e.FRAGMENT_SHADER,a);e.attachShader(r,o);var i=null===(n=document.getElementById("vertexShader"))||void 0===n?void 0:n.textContent;if(!i)throw"Missing vertexShaderSource";var c,s=R(e,e.VERTEX_SHADER,i);if(e.attachShader(r,s),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw null!==(c=e.getProgramInfoLog(r))&&void 0!==c?c:"Error from getProgramParameter";return e.useProgram(r),r}(e),c=(t=e).getAttribLocation(i=n,"a_position"),d=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0]),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),t.vertexAttribPointer(c,3,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.enableVertexAttribArray(c),r=t.getUniformLocation(i,"u_time"),a=t.getUniformLocation(i,"u_translate"),o=t.getUniformLocation(i,"u_scale")},onResize:function(e){e.viewport(0,0,e.canvas.width,e.canvas.height)},draw:function(e,t){e.uniform1f(r,t),e.uniform2f(a,s[0],s[1]),e.uniform2f(o,l[0],l[1]),e.drawArrays(e.TRIANGLE_STRIP,0,4)}}))}}}]);
//# sourceMappingURL=route-polynumber.chunk.b9b70.js.map